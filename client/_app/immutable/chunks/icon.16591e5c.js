import{w as $,r as Y}from"./paths.eb18cd76.js";import{_ as V,s as H,f as Z,g as N,M as O,j as h,i as ee,F as P,d as te}from"./scheduler.6f9dceae.js";import{S as ne,i as oe}from"./index.6032d4f1.js";const re=$(void 0);function fe(t,e){const{computePosition:o,autoUpdate:a,offset:r,shift:u,flip:d,arrow:l,size:E,autoPlacement:c,hide:w,inline:b}=V(re),i={open:!1,autoUpdateCleanup:()=>{}},A=':is(a[href], button, input, textarea, select, details, [tabindex]):not([tabindex="-1"])';let L;const m="https://www.skeleton.dev/utilities/popups";let n,S;function C(){n=document.querySelector(`[data-popup="${e.target}"]`)??document.createElement("div"),S=n.querySelector(".arrow")??document.createElement("div")}C();function _(){var f,v,U,D,x,Q,T,g;if(!n)throw new Error(`The data-popup="${e.target}" element was not found. ${m}`);if(!o)throw new Error(`Floating UI 'computePosition' not found for data-popup="${e.target}". ${m}`);if(!r)throw new Error(`Floating UI 'offset' not found for data-popup="${e.target}". ${m}`);if(!u)throw new Error(`Floating UI 'shift' not found for data-popup="${e.target}". ${m}`);if(!d)throw new Error(`Floating UI 'flip' not found for data-popup="${e.target}". ${m}`);if(!l)throw new Error(`Floating UI 'arrow' not found for data-popup="${e.target}". ${m}`);const s=[];E&&s.push(E((f=e.middleware)==null?void 0:f.size)),c&&s.push(c((v=e.middleware)==null?void 0:v.autoPlacement)),w&&s.push(w((U=e.middleware)==null?void 0:U.hide)),b&&s.push(b((D=e.middleware)==null?void 0:D.inline)),o(t,n,{placement:e.placement??"bottom",middleware:[r(((x=e.middleware)==null?void 0:x.offset)??8),u(((Q=e.middleware)==null?void 0:Q.shift)??{padding:8}),d((T=e.middleware)==null?void 0:T.flip),l(((g=e.middleware)==null?void 0:g.arrow)??{element:S||null}),...s]}).then(({x:B,y:G,placement:J,middlewareData:K})=>{if(Object.assign(n.style,{left:`${B}px`,top:`${G}px`}),S){const{x:j,y:z}=K.arrow,X={top:"bottom",right:"left",bottom:"top",left:"right"}[J.split("-")[0]];Object.assign(S.style,{left:j!=null?`${j}px`:"",top:z!=null?`${z}px`:"",right:"",bottom:"",[X]:"-4px"})}})}function y(){n&&(i.open=!0,e.state&&e.state({state:i.open}),_(),n.style.display="block",n.style.opacity="1",n.style.pointerEvents="auto",n.removeAttribute("inert"),i.autoUpdateCleanup=a(t,n,_),L=Array.from(n==null?void 0:n.querySelectorAll(A)))}function p(s){if(!n)return;const f=parseFloat(window.getComputedStyle(n).transitionDuration.replace("s",""))*1e3;setTimeout(()=>{i.open=!1,e.state&&e.state({state:i.open}),n.style.opacity="0",n.setAttribute("inert",""),i.autoUpdateCleanup&&i.autoUpdateCleanup(),s&&s()},f)}function k(){i.open===!1?y():p()}function I(s){if(i.open===!1||t.contains(s.target))return;if(n&&n.contains(s.target)===!1){p();return}const f=e.closeQuery===void 0?"a[href], button":e.closeQuery,v=n==null?void 0:n.querySelectorAll(f);v==null||v.forEach(U=>{U.contains(s.target)&&p()})}const q=s=>{if(i.open===!1)return;const f=s.key;if(f==="Escape"){s.preventDefault(),t.focus(),p();return}L=Array.from(n==null?void 0:n.querySelectorAll(A)),i.open&&document.activeElement===t&&(f==="ArrowDown"||f==="Tab")&&A.length>0&&L.length>0&&(s.preventDefault(),L[0].focus())};switch(e.event){case"click":t.addEventListener("click",k,!0),window.addEventListener("click",I,!0);break;case"hover":t.addEventListener("mouseover",y,!0),t.addEventListener("mouseleave",()=>p(),!0);break;case"focus-blur":t.addEventListener("focus",k,!0),t.addEventListener("blur",()=>p(),!0);break;case"focus-click":t.addEventListener("focus",y,!0),window.addEventListener("click",I,!0);break;default:throw new Error(`Event value of '${e.event}' is not supported. ${m}`)}return window.addEventListener("keydown",q,!0),_(),{update(s){p(()=>{e=s,_(),C()})},destroy(){t.removeEventListener("click",k,!0),t.removeEventListener("mouseover",y,!0),t.removeEventListener("mouseleave",()=>p(),!0),t.removeEventListener("focus",k,!0),t.removeEventListener("focus",y,!0),t.removeEventListener("blur",()=>p(),!0),window.removeEventListener("click",I,!0),window.removeEventListener("keydown",q,!0)}}}const M={};function R(t){return t==="local"?localStorage:sessionStorage}function F(t,e,o){const a=(o==null?void 0:o.serializer)??JSON,r=(o==null?void 0:o.storage)??"local";function u(d,l){R(r).setItem(d,a.stringify(l))}if(!M[t]){const d=$(e,c=>{const w=R(r).getItem(t);w&&c(a.parse(w));{const b=i=>{i.key===t&&c(i.newValue?a.parse(i.newValue):null)};return window.addEventListener("storage",b),()=>window.removeEventListener("storage",b)}}),{subscribe:l,set:E}=d;M[t]={set(c){u(t,c),E(c)},update(c){const w=c(V(d));u(t,w),E(w)},subscribe:l}}return M[t]}F("modeOsPrefers",!1);F("modeUserPrefers",void 0);F("modeCurrent",!1);const W="(prefers-reduced-motion: reduce)";function se(){return window.matchMedia(W).matches}const de=Y(se(),t=>{{const e=a=>{t(a.matches)},o=window.matchMedia(W);return o.addEventListener("change",e),()=>{o.removeEventListener("change",e)}}});function ae(t){let e,o,a;return{c(){e=Z("img"),this.h()},l(r){e=N(r,"IMG",{src:!0,title:!0,alt:!0,class:!0}),this.h()},h(){O(e.src,o=t[2])||h(e,"src",o),h(e,"title",t[3]),h(e,"alt",t[3]),h(e,"class",a="w-"+t[0]+" "+t[1]+" rounded-full")},m(r,u){ee(r,e,u)},p(r,[u]){u&4&&!O(e.src,o=r[2])&&h(e,"src",o),u&3&&a!==(a="w-"+r[0]+" "+r[1]+" rounded-full")&&h(e,"class",a)},i:P,o:P,d(r){r&&te(e)}}}function ie(t,e,o){let{w:a=16}=e,{bg:r="bg-primary-300"}=e,{src:u}=e,d=u.split("/").pop().split(".").shift();return t.$$set=l=>{"w"in l&&o(0,a=l.w),"bg"in l&&o(1,r=l.bg),"src"in l&&o(2,u=l.src)},[a,r,u,d]}class pe extends ne{constructor(e){super(),oe(this,e,ie,ae,H,{w:0,bg:1,src:2})}}export{pe as I,fe as a,de as p,re as s};
